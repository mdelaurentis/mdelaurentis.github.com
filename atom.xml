<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Mike DeLaurentis]]></title>
  <link href="http://mdelaurentis.github.com/atom.xml" rel="self"/>
  <link href="http://mdelaurentis.github.com/"/>
  <updated>2012-05-25T21:27:09-04:00</updated>
  <id>http://mdelaurentis.github.com/</id>
  <author>
    <name><![CDATA[Mike DeLaurentis]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Oatmeal Stout]]></title>
    <link href="http://mdelaurentis.github.com/blog/2011/10/28/Oatmeal-Stout/"/>
    <updated>2011-10-28T00:00:00-04:00</updated>
    <id>http://mdelaurentis.github.com/blog/2011/10/28/Oatmeal-Stout</id>
    <content type="html"><![CDATA[<p>After a a couple batches that I wasn&#8217;t totally happy with, I I like this one a lot. Similar creamy mouthfeel to the Rye
Porter. Pretty dry, not much hop aroma or flaver. Very nice roasty
character.</p>

<h2>Grains</h2>

<ul>
<li>11 lbs American 2-Row Pale</li>
<li>1 lb Crystal 60</li>
<li>1/2 lb Chocolate Malt</li>
<li>1/2 lb Roasted Barley</li>
<li>2 lbs Flaked Oats</li>
</ul>


<h2>Hops</h2>

<ul>
<li>1 oz Nugget (15.1%), 60 mins</li>
<li>1 oz Willamette (3.6%), 30 mins</li>
<li>1 oz Willamette (3.6%), 15 mins</li>
</ul>


<h2>Process</h2>

<p>Single infusion mash at 154 &deg;.  Expected water loss due to absorption: 1.5 gal. Total mash/lauter water: 8 gal. Target pre-boil vol: 6.5 gal. Strike vol: 15 lbs x 1.25 quarts/lb = 18.75 -> 19 quarts or 4 3/4 gal. Strike temp: target 169.8. Sparge vol: 3 1/4 gal. Pre-boil: 6.75 gal 1.040.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Harvest Amber]]></title>
    <link href="http://mdelaurentis.github.com/blog/2011/09/12/Harvest-Amber/"/>
    <updated>2011-09-12T00:00:00-04:00</updated>
    <id>http://mdelaurentis.github.com/blog/2011/09/12/Harvest-Amber</id>
    <content type="html"><![CDATA[<p>Brewed with homegrown Cascade hops.</p>

<h2>Grains</h2>

<ul>
<li>14 lbs American 2-Row Pale</li>
<li>1 lb Crystal 60</li>
<li>1 lb Victory</li>
</ul>


<h2>Hops</h2>

<ul>
<li>2 oz Homegrown Cascade, 90 mins</li>
<li>1 oz Homegrown Cascade, 60 mins</li>
<li>1 oz Homegrown Cascade, 15 mins</li>
<li>1 oz Homegrown Cascade, 5 mins</li>
<li>2 oz Homegrown Cascade, dry-hopped 4 weeks in secondary</li>
</ul>


<h2>Process</h2>

<p>Mash for 1 hour, don&#8217;t remember the temperature. Sparge with enough water to collect 7.5 gallons, with pre-boil gravity of 1.055. Boiled down to 6 gallons (I think), with starting gravity of 1.066.</p>

<p>I boiled this one for 90 minutes in an attempt to get some better hop
utilization. I think I boiled 7.5 gallons down to 6 (rather than my
usual 5.5) because I expected to lose some volume during dry-hopping.</p>

<p>Primary fermentation for 2 weeks, then secondary fermentation for 4
more, dry hopping with homegrown Cascade hops.</p>

<h2>Notes</h2>

<p>This one tastes pretty good, although it&#8217;s not nearly as hoppy as I
was hoping for. I guess the homegrown hops weren&#8217;t very strong. I was
expecting them to be around 6% AA, but who knows what they really
are. Nice mouthfeel. There&#8217;s a little bit of the caramel/banana off
flavor that showed up in the Belgian strong ale, but it&#8217;s not nearly
as dominant here. This is not exactly what I was going for, but still
very enjoyable.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Belgian Strong Ale]]></title>
    <link href="http://mdelaurentis.github.com/blog/2011/08/20/Belgian-Strong-Ale/"/>
    <updated>2011-08-20T00:00:00-04:00</updated>
    <id>http://mdelaurentis.github.com/blog/2011/08/20/Belgian-Strong-Ale</id>
    <content type="html"><![CDATA[<p>I originally wanted to make this and add our homegrown raspberries in
the secondary fermenter, but there ended up being enough going on with
the beer that I thought the berries would be too much.</p>

<p>This one has some undesireable off flavors. Not sure how to describe
it. Maybe caramel, banana. Pretty sweet, not much hop bitterness and
really no hop flavor or aroma at all. It seemed to get a bit worse
with a couple months of aging too. I suspect the off flavors may be
due to fermenting at higher temperatures. Also, this is the first
batch where I didn&#8217;t use filtered water; I just let the water sit in
buckets overnight to let the chlorine evaporate.</p>

<h2>Grains</h2>

<ul>
<li>16 lbs Belgian 2-Row Pale</li>
<li>1 lb Biscuit malt</li>
<li>1 lb Special B malt</li>
<li>1 lb Belgian Candi Sugar, 45 (not mashed)</li>
<li>1 lb Belgian Candi Sugar 90 (not mashed)</li>
</ul>


<h2>Hops</h2>

<ul>
<li>2 oz Styrian Goldings, 90 mins</li>
</ul>


<h2>Process</h2>

<p>Mash for 1 hour at around 152 &deg;. Sparge with enough water to collect 7 gallons. Pre-boil gravity was 1.060. Boil for 90 minutes, adding Styrian Goldings hops for 90 minutes. Boiled down to 5.5 gallons at 1.084 starting gravity.</p>

<p>Fermented with Wyeast Trappist High Gravity yeast, I think, at a
pretty high temperature; maybe 75 &deg; or higher. Left in primary for
a few weeks and then secondary for maybe a month more.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Smoked Rye Porter]]></title>
    <link href="http://mdelaurentis.github.com/blog/2011/07/11/Smoked-Rye-Porter/"/>
    <updated>2011-07-11T00:00:00-04:00</updated>
    <id>http://mdelaurentis.github.com/blog/2011/07/11/Smoked-Rye-Porter</id>
    <content type="html"><![CDATA[<p>Brewed for the 2011 Iron Brewer competition sponsored by
<a href="keystonehomebrew.com">Keystone Homebrew Supply</a> and
<a href="thefarmerscabinet.com">The Farmers&#8217; Cabinet</a>. The idea was that they
give you a &#8220;secret ingredient&#8221;, and you have a few months to make a
beer involving that ingredient. The secret ingredient was about 2lbs
of cherry wood smoked rye. I picked it up at The Farmers&#8217; Cabinet in
June. It smelled great; sort of like a campfire. This is actually what
made me decide to switch to all-grain brewing.</p>

<p>Made it into the &#8220;elite eight&#8221; out of 48 entries. This one was really
good. Very dark color, with a hint of red. Smooth, creamy mouthfeel,
maybe due to the rye. Hops are nicely balanced. Not too much smoke;
maybe should have used the rye sooner.</p>

<h2>Grains</h2>

<ul>
<li>11 lbs English 2 Row Pale</li>
<li>1.75 lbs Cherry Wood Smoked Rye</li>
<li>1 lb Crystal 60</li>
<li>1/2 lb Chocolate Malt</li>
</ul>


<h2>Hops</h2>

<ul>
<li>1 oz Northern Brewer, 60 mins</li>
<li>1 oz Willamette, 30 mins</li>
<li>1 oz Willamette, 15 mins</li>
</ul>


<h2>Process</h2>

<p>Mash all grains for 1 hour at 152&deg;.  Sparge with enough water to collect 6.5 gallons. Pre-boil gravity was 1.044. Bring to a boil, add hops according to schedule above. Cool and pitch yeast. Starting gravity was 1.058, final was 1.019.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ESB]]></title>
    <link href="http://mdelaurentis.github.com/blog/2011/07/04/ESB/"/>
    <updated>2011-07-04T00:00:00-04:00</updated>
    <id>http://mdelaurentis.github.com/blog/2011/07/04/ESB</id>
    <content type="html"><![CDATA[<p>This was my first all-grain batch. It was very light in body and
alcohol. Probably should have used more grains.</p>

<h2>Grains</h2>

<ul>
<li>8 lbs English 2 Row Pale</li>
<li>1/2 lbs Crystal 60</li>
</ul>


<h2>Hops</h2>

<ul>
<li>1 oz  Northern Brewer, 60 mins</li>
<li>3/4 oz East Kent Golding, 30 mins</li>
<li>3/4 oz East Kent Golding, 15 mins</li>
</ul>


<p>60 minute boil</p>

<p>Pre-boil: 6.5 gal, 1.029 sg
Post-boil: 5.5 gal, 1.036 sg
Final: 1.017 sg</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Computer Vision Project - Mosaicing]]></title>
    <link href="http://mdelaurentis.github.com/blog/2011/01/16/mosaicing-project/"/>
    <updated>2011-01-16T00:00:00-05:00</updated>
    <id>http://mdelaurentis.github.com/blog/2011/01/16/mosaicing-project</id>
    <content type="html"><![CDATA[<h1>Computer Vision Project - Mosaicing</h1>

<p>Last term I took an &#8220;Intro to Computer Vision&#8221; class at Drexel.  It was a really good class with a lot of theory and some interesting programming projects.  One of the projects involved taking a bunch of pictures and writing code in <a href="http://processing.org">Processing</a> to stitch them together into a 360&deg; panorama.  I&#8217;ve used some open source tools (e.g. <a href="http://hugin.sourceforge.net/">Hugin</a>) to create panoramas before, and it was interesting to learn about some of the concepts that a tool like that would use.  Anyway, here are the results of the mosaicing project, along with a brief description of the steps involved in making the panoramas.  I should mention that this strategy for creating the mosaics was clearly outlined by the professor, and we were given skeleton code that we filled in with implementations of the algorithms.  So the overall strategy was certainly not my idea, but the images are my own.</p>

<h2>Taking pictures</h2>

<p>The first step was to take a few sets of pictures at different locations.  The first Saturday after the project was assigned was a nice autumn day, so I took my dog Lucy out to Valley Forge  and took some pictures there. I parked on Yellow Springs Road, just west of where the covered bridge crosses over a creek next to 252.  There&#8217;s a trail that starts there, goes up a big hill through the <a href="http://www.flickr.com/photos/mdelaurentis/sets/72157625625222491/">woods</a>, then back down past an old <a href="http://www.flickr.com/photos/mdelaurentis/sets/72157625750745898/">stone building</a>, and then follows a <a href="http://www.flickr.com/photos/mdelaurentis/sets/72157625750837878/">creek</a> back to the woods.  I stopped and took pictures at a few spots on this trail:</p>

<p>
<div style="text-align: left">
<a href="http://www.flickr.com/photos/mdelaurentis/5325972132"><img src="http://farm6.static.flickr.com/5208/5325972132_4bb4a8fdd3_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325972358"><img src="http://farm6.static.flickr.com/5162/5325972358_8f9f0c3e80_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325365947"><img src="http://farm6.static.flickr.com/5166/5325365947_d793cb9f0b_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325366251"><img src="http://farm6.static.flickr.com/5204/5325366251_b33b533cba_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325973270"><img src="http://farm6.static.flickr.com/5050/5325973270_7a0738dd3e_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325366761"><img src="http://farm6.static.flickr.com/5245/5325366761_cfdf8aa0ef_t.jpg" style="padding-left: 0.5em;" /></a>
</div>

<div style="text-align: left">
<a href="http://www.flickr.com/photos/mdelaurentis/5325973726"><img src="http://farm6.static.flickr.com/5081/5325973726_b6d92354c2_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325973966"><img src="http://farm6.static.flickr.com/5002/5325973966_4be0fe2724_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325367475"><img src="http://farm6.static.flickr.com/5049/5325367475_1a90462684_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325974780"><img src="http://farm6.static.flickr.com/5129/5325974780_f42be95447_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325975150"><img src="http://farm6.static.flickr.com/5201/5325975150_af3d333276_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325368697"><img src="http://farm6.static.flickr.com/5241/5325368697_de7aa0616e_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325369029"><img src="http://farm6.static.flickr.com/5043/5325369029_4298035464_t.jpg" style="padding-left: 0.5em;" /></a>
</div>
</p>




<p>
<div style="text-align: left">
<a href="http://www.flickr.com/photos/mdelaurentis/5325387787"><img src="http://farm6.static.flickr.com/5087/5325387787_fc924b2161_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325388095"><img src="http://farm6.static.flickr.com/5282/5325388095_8549da74fc_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325995168"><img src="http://farm6.static.flickr.com/5288/5325995168_48422cc3c7_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325388613"><img src="http://farm6.static.flickr.com/5010/5325388613_370d32d719_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325995722"><img src="http://farm6.static.flickr.com/5244/5325995722_c6d07ca130_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325389191"><img src="http://farm6.static.flickr.com/5163/5325389191_8ca6c05890_t.jpg" style="padding-left: 0.5em;" /></a>
</div>

<div style="text-align: left">
<a href="http://www.flickr.com/photos/mdelaurentis/5325389507"><img src="http://farm6.static.flickr.com/5243/5325389507_e8e9823b00_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325389745"><img src="http://farm6.static.flickr.com/5088/5325389745_2cfac22ea4_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325390165"><img src="http://farm6.static.flickr.com/5090/5325390165_91a08ae3f8_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325997470"><img src="http://farm6.static.flickr.com/5086/5325997470_fe8e49814b_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325997764"><img src="http://farm6.static.flickr.com/5168/5325997764_498a27c572_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325391005"><img src="http://farm6.static.flickr.com/5045/5325391005_4fc8fc95eb_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325391407"><img src="http://farm6.static.flickr.com/5007/5325391407_d70a0e18b3_t.jpg" style="padding-left: 0.5em;" /></a>

</div>
</p>




<p>
<div style="text-align: left">
<a href="http://www.flickr.com/photos/mdelaurentis/5325435027"><img src="http://farm6.static.flickr.com/5241/5325435027_ab885f8a03_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5326042648"><img src="http://farm6.static.flickr.com/5049/5326042648_887c9a63ba_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5326042916"><img src="http://farm6.static.flickr.com/5083/5326042916_8d2a157887_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5326043210"><img src="http://farm6.static.flickr.com/5204/5326043210_12d1ac3daa_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5326043466"><img src="http://farm6.static.flickr.com/5090/5326043466_653b38cfb1_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325436415"><img src="http://farm6.static.flickr.com/5241/5325436415_27758ba4d4_t.jpg" style="padding-left: 0.5em;" /></a>
</div>

<div style="text-align: left">
<a href="http://www.flickr.com/photos/mdelaurentis/5325436673"><img src="http://farm6.static.flickr.com/5283/5325436673_9be960d1dd_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5326044278"><img src="http://farm6.static.flickr.com/5050/5326044278_2676d059d5_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5326044578"><img src="http://farm6.static.flickr.com/5290/5326044578_aa4977b498_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5326044846"><img src="http://farm6.static.flickr.com/5246/5326044846_b06de9d7b3_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5326045112"><img src="http://farm6.static.flickr.com/5247/5326045112_7e6e298faa_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5326045342"><img src="http://farm6.static.flickr.com/5242/5326045342_303a300115_t.jpg" style="padding-left: 0.5em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325438373"><img src="http://farm6.static.flickr.com/5208/5325438373_c513cf11d9_t.jpg" style="padding-left: 0.5em;" /></a>
</div>
</p>


<p>Then we went north on 252 a bit and made a right into the area where people fly model airplanes.  I took one set of <a href="http://www.flickr.com/photos/mdelaurentis/sets/72157625750909834/">images</a> here.  I didn&#8217;t want my car to show up in the images, so I put the tripod on top of it.</p>

<p><figure></p>

<div style="text-align: left">
<a href="http://www.flickr.com/photos/mdelaurentis/5325469983"><img src="http://farm6.static.flickr.com/5129/5325469983_a4d7794bce_t.jpg" style="padding-left: 1em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325470173"><img src="http://farm6.static.flickr.com/5047/5325470173_2294331b5f_t.jpg" style="padding-left: 1em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325470655"><img src="http://farm6.static.flickr.com/5284/5325470655_76b63ac808_t.jpg" style="padding-left: 1em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325470863"><img src="http://farm6.static.flickr.com/5170/5325470863_3261e2d73c_t.jpg" style="padding-left: 1em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325471103"><img src="http://farm6.static.flickr.com/5202/5325471103_8459a663f7_t.jpg" style="padding-left: 1em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325471327"><img src="http://farm6.static.flickr.com/5206/5325471327_4b875bb6ab_t.jpg" style="padding-left: 1em;" /></a>
</div>


<div style="text-align: left">
<a href="http://www.flickr.com/photos/mdelaurentis/5325471603"><img src="http://farm6.static.flickr.com/5125/5325471603_f92eb34426_t.jpg" style="padding-left: 1em;" /></a>

<a href="http://www.flickr.com/photos/mdelaurentis/5326078996"><img src="http://farm6.static.flickr.com/5010/5326078996_a2a84a4509_t.jpg" style="padding-left: 1em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5326079250"><img src="http://farm6.static.flickr.com/5210/5326079250_23fa0c68ff_t.jpg" style="padding-left: 1em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5326079458"><img src="http://farm6.static.flickr.com/5163/5326079458_444746fb7e_t.jpg" style="padding-left: 1em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325472569"><img src="http://farm6.static.flickr.com/5010/5325472569_e7323447c9_t.jpg" style="padding-left: 1em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325472831"><img src="http://farm6.static.flickr.com/5083/5325472831_df02f427a4_t.jpg" style="padding-left: 1em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5326080178"><img src="http://farm6.static.flickr.com/5130/5326080178_81a7e8d3f2_t.jpg" style="padding-left: 1em;" /></a>
</div>


<p></figure></p>

<p>The following weekend, Lucy and I went back out to the boat club near Frosty Falls in Bridgeport. There&#8217;s a nice view of the Schuylkill river there, and the leaves were looking pretty nice.</p>

<p><figure></p>

<div style="text-align: left">
<a href="http://www.flickr.com/photos/mdelaurentis/5326140672"><img src="http://farm6.static.flickr.com/5285/5326140672_b3d8b2d061_t.jpg" style="padding-left: 1em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5326140898"><img src="http://farm6.static.flickr.com/5122/5326140898_ea3a73ce62_t.jpg" style="padding-left: 1em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325533963"><img src="http://farm6.static.flickr.com/5041/5325533963_d2976531fb_t.jpg" style="padding-left: 1em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5326141570"><img src="http://farm6.static.flickr.com/5088/5326141570_54d21d26e5_t.jpg" style="padding-left: 1em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5326141788"><img src="http://farm6.static.flickr.com/5086/5326141788_a3ce5ddec8_t.jpg" style="padding-left: 1em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325535007"><img src="http://farm6.static.flickr.com/5125/5325535007_5e9eaa2ca1_t.jpg" style="padding-left: 1em;" /></a>
</div>


<div style="text-align: left">
<a href="http://www.flickr.com/photos/mdelaurentis/5326142428"><img src="http://farm6.static.flickr.com/5285/5326142428_2638daf131_t.jpg" style="padding-left: 1em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325535459"><img src="http://farm6.static.flickr.com/5242/5325535459_5e0f5d0e87_t.jpg" style="padding-left: 1em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5326142948"><img src="http://farm6.static.flickr.com/5049/5326142948_4919083102_t.jpg" style="padding-left: 1em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325535987"><img src="http://farm6.static.flickr.com/5041/5325535987_a6c9e2d652_t.jpg" style="padding-left: 1em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5325536263"><img src="http://farm6.static.flickr.com/5003/5325536263_5e7fb2ae6f_t.jpg" style="padding-left: 1em;" /></a>
<a href="http://www.flickr.com/photos/mdelaurentis/5326143766"><img src="http://farm6.static.flickr.com/5090/5326143766_09f1d1a582_t.jpg" style="padding-left: 1em;" /></a>
</div>


<p></figure></p>

<p>At each location, I put the camera on a tripod, pointed it at the brightest part of the scene, and locked in the aperture.  This prevents the camera from automatically adjusting the amount of light it lets in.  If I didn&#8217;t do this step, the camera might automatically use different aperture settings for different pictures, which would result in visible differences in lighting across the panorama.  Then I took one picture, turned the camera a little bit to the right, took another picture, and repeated until the camera was back where it started.  With my camera, it took about twelve to fourteen pictures to capture a whole 360&deg; scene.</p>

<p>Then I went back to the house and spent the better part of the next week or two writing the code for the project.</p>

<h2>Cylindrical reprojection</h2>

<p>Once the pictures were taken, the next step was to warp each picture so I could write code to line it up with its neighbors. It might seem like you could simply slide the images around until they overlap, but it&#8217;s not quite that easy, because of the way the camera produces the image.  Suppose you have a camera pointed at someone&#8217;s face.  Imagine that each point on the person&#8217;s face is connected to the center of the camera&#8217;s lens with an invisible line.  So now you have this cone of invisible lines starting at the lens and extending out towards the subject&#8217;s face.  Now if you were to drop a 3x5 index card through that cone a few inches in front of the lens, each of those invisible lines would intersect that card&#8217;s plane at some point.  So you can figure out where a point in the scene will show up in the image by drawing this imaginary line from the scene, through the card, into the lens.  The spot where the line crosses the card is the spot where the point will render on the image.</p>

<p><a href="http://www.flickr.com/photos/mdelaurentis/5327949603/" title="planar image by mdelaurentis, on Flickr"><img class="figure" src="http://farm6.static.flickr.com/5122/5327949603_43dbef2e02_o.png" width="360" height="288" alt="planar image" /></a></p>

<p>Now the goal of this project is to take the images obtained by swiveling the camera around and stitch them together into a panorama.  So instead of an image plane as in the above example, we want a wide image that wraps all the way around the camera; something more like an image cylinder:</p>

<p><a href="http://www.flickr.com/photos/mdelaurentis/5327949659/" title="cylindrical image by mdelaurentis, on Flickr"><img class="figure" src="http://farm6.static.flickr.com/5047/5327949659_4fe14aab4a_o.png" width="288" height="187" alt="cylindrical image" /></a></p>

<p>If we were to simply arrange the planar images around the camera, we&#8217;d get something like this:</p>

<p><a href="http://www.flickr.com/photos/mdelaurentis/5327949645/" title="multiple planar images by mdelaurentis, on Flickr"><img class="figure" src="http://farm6.static.flickr.com/5044/5327949645_fcf90874d1_o.png" width="324" height="198" alt="multiple planar images" /></a></p>

<p>Notice that this doesn&#8217;t form a circle, but a weird shape (dodecagon?).  If we want the cylindrical panorama to be nice and smooth, we need to warp each of the original images and re-project each one onto an imaginary image cylinder.  This basically involves taking each point in each original image and calculating a corresponding point on the imaginary cylinder.  In order to do that you need to know the focal length of the camera (basically the distance between the center of projection and the magic &#8220;index card&#8221; we dropped in front of the lens).  I used <a href="http://www.vision.caltech.edu/bouguetj/calib_doc/">this tool</a> to calibrate the camera. Here&#8217;s an example of what one of the images looks like before and after warping:</p>

<div style="text-align: center">
<a href="http://www.flickr.com/photos/mdelaurentis/5325535459/" title="IMG_1744 by mdelaurentis, on Flickr"><img src="http://farm6.static.flickr.com/5242/5325535459_5e0f5d0e87_m.jpg" width="240" height="180" alt="IMG_1744" /></a>

<a href="http://www.flickr.com/photos/mdelaurentis/5329155334/" title="river-warped-5 by mdelaurentis, on Flickr"><img src="http://farm6.static.flickr.com/5084/5329155334_b6289c5659_m.jpg" width="240" height="180" alt="river-warped-5" /></a>
</div>


<h2>Calculating optical flow</h2>

<p>After I wrote the code to warp the images around the imaginary image cylinder, the next step was to compute a translation for each image so that it lines up with its left and right neighbors.  To do this, I used the iterative <a href="http://en.wikipedia.org/wiki/Lucas-Kanade_Optical_Flow_Method">Lucas-Kanade method</a> for calculating optical flow.  This method basically takes two images and finds finds an optimal translation of one image to make it line up with the other image. I did this by first creating what&#8217;s called a Gaussian pyramid of the image, which is a series of images where each one is a reduced-resolution version of the one preceding it. The algorithm operates on the low resolution images first, and then scales the translation up to apply it to the higher resolution images.</p>

<p>Here&#8217;s an example of two of the warped images lined up according to the translation given by the Lucas-Kanade method.</p>

<div style="text-align: center">
<a href="http://www.flickr.com/photos/mdelaurentis/5329186732/" title="river-overlay-4-5 by mdelaurentis, on Flickr"><img src="http://farm6.static.flickr.com/5001/5329186732_52762e7967.jpg" width="500" height="257" alt="river-overlay-4-5" /></a>
</div>


<h2>Stitching, cropping</h2>

<p>Once I produced the cylindrical projection of each image and found a translation for each of the adjacent images, the next step was to arrange all the warped images together into a final panorama.  First I created an image that consisted of all the source images together, with the appropriate translations applied.  I used simple linear feathering in the overlapping regions of the images to try to reduce the visibility of the seams.  That process produced an image like this:</p>

<p><a href="http://www.flickr.com/photos/mdelaurentis/5357425746/" title="woods-uncropped by mdelaurentis, on Flickr"><img src="http://farm6.static.flickr.com/5249/5357425746_e189deb2e2_b.jpg" width="940" alt="woods-uncropped" /></a></p>

<p>Notice that the images to the left are significantly lower than the ones to the right.  This was probably caused by one leg of the tripod sinking into the ground a bit while I was taking the photos.  To fix this, I used the translation given by Lucas-Kanade for the left-most and right-most images to skew the image so that it appears horizontal.  Then I applied the same translations to black and white masks of the warped images, and used that final mask image to crop off the outer rows and columns of empty pixels.</p>

<h2>Results</h2>

<h3>Woods</h3>

<p><a href="http://www.flickr.com/photos/mdelaurentis/5256795130/sizes/o"><img width="940" src="http://farm6.static.flickr.com/5207/5256795130_5543208792_b.jpg"  /></a>
This one turned out pretty well, but if you look really closely, you can see some of the seams between the images.</p>

<h3>Trail</h3>

<p><a href="http://www.flickr.com/photos/mdelaurentis/5256795246/sizes/o"><img width="940" src="http://farm6.static.flickr.com/5003/5256795246_3b9448b3cf_b.jpg"  /></a>
This one came out fine, in that the lighting is consistent and you can&#8217;t easily identify the seams.</p>

<h3>Creek</h3>

<p><a href="http://www.flickr.com/photos/mdelaurentis/5256795330/sizes/o"><img width="940" src="http://farm6.static.flickr.com/5282/5256795330_852f6bd002_b.jpg"  /></a>
This one is interesting because there&#8217;s such a wide variation in lighting.  A few of the images have a clear view of the sky through a clearing, and those are the ones I used to lock the aperture, so the rest of the images came out pretty dark.  I basically did this one specifically to see how big the lighting differences would be.</p>

<h3>Field</h3>

<p><a href="http://www.flickr.com/photos/mdelaurentis/5256795394/sizes/o"><img width="940" src="http://farm6.static.flickr.com/5124/5256795394_0dcb4d1def_b.jpg"  /></a>
If you look closely at this one you&#8217;ll see a few errors.  My implementation of Lucas-Kanade didn&#8217;t do a great job at lining up the images on the left side of the panorama, of the open field.  This is because if you reduce the resolution of the image sufficiently, you&#8217;re basically left with a horizontal band of green, with a band of brown on top, then a band of blue on top of that.  So it did a good job of lining up the images vertically, but didn&#8217;t optimally line them up horizontally.</p>

<h3>River</h3>

<p><a href="http://www.flickr.com/photos/mdelaurentis/5256795454/sizes/o"><img width="940" src="http://farm6.static.flickr.com/5001/5256795454_c66f7c8d13_b.jpg"  /></a>
I was pretty happy with this one.</p>

<h3>Kitchen</h3>

<p><a href="http://www.flickr.com/photos/mdelaurentis/5256795510/sizes/o"><img width="940" src="http://farm6.static.flickr.com/5127/5256795510_4f173a564e_b.jpg"  /></a></p>

<p>Shortly before I submitted the project, I realized that I was supposed to take one set of images not using a tripod, I suppose just to see how important it is to keep the center of projection in the same spot.  So I held the camera as steadily as I could in my hands and spun around my kitchen.  It actually came out pretty well.  There&#8217;s obviously some rotation in a few of the images, but the Lucas-Kanade algorithm did a good job at lining the images up, probably because there are a lot of high-frequency changes; sharp corners and things.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Clojure + Emacs]]></title>
    <link href="http://mdelaurentis.github.com/blog/2010/03/01/clojure-and-emacs/"/>
    <updated>2010-03-01T00:00:00-05:00</updated>
    <id>http://mdelaurentis.github.com/blog/2010/03/01/clojure-and-emacs</id>
    <content type="html"><![CDATA[<h1>Clojure + Emacs</h1>

<p>There are many different ways of providing Emacs with a Clojure REPL for a project.  A few people have asked me how to do this recently, so I thought I&#8217;d mention the different methods I&#8217;ve used.</p>

<h2>Shell script</h2>

<p>You can create a command-line script that runs java, executing the <code>clojure.main</code> class with an appropriate classpath set up.  Then add something like <a href="http://gist.github.com/318021">this</a> to your Emacs lisp.</p>

<script src="https://gist.github.com/319031.js"> </script>


<p>Then from within Emacs you can start up slime by doing <code>M-- M-x slime</code>, and then selecting the name for the repl to start up.  I used this method for a while, but it&#8217;s not very portable, and it requires changing your .emacs setup every time you want to add a repl.  I would not recommend this way.</p>

<h2>Build tool</h2>

<p>With the advent of <a href="http://github.com/technomancy/leiningen">Leiningen</a> and the <a href="http://github.com/talios/clojure-maven-plugin">clojure-maven-plugin</a>, it has become much easier to start up a swank server on the command line and then <code>M-x slime-connect</code> to it from within Emacs.  If your project uses Leiningen, just type <code>lein swank</code> at the command line (you&#8217;ll need a :dev-dependency on swank-clojure for this to work).  If you&#8217;re using the Maven plugin, run <code>mvn clojure:swank</code>.  Then in Emacs, run <code>M-x slime-connect</code>.  Hit enter through the host and port prompts, and it should connect you to the swank server you started up on the command line.</p>

<h2>Embedded</h2>

<p>If you&#8217;re working on a long-running application, you may want to consider embedding a swank server in your program itself.  It&#8217;s remarkably <a href="http://gist.github.com/319031">easy</a>.</p>

<script src="http://gist.github.com/319031.js"> </script>


<p>It took me a long time to realize how great this ability is, but I just had an experience that convinced me of its greatness.  I&#8217;m working on a Compojure application that I&#8217;m using to help with some performance testing of some web services.  Today I had some runtime errors in the Compojure application.  It had been running for a while and had built up some state that I didn&#8217;t want to lose by restarting it.  So I just logged into the machine, fired up Emacs and connected to the swank server, diagnosed the problem, and fixed it, all without restarting the server or losing any state.  Now, you obviously need to be careful not to expose a swank server on a port open to the world.  But assuming you take a few safety measures, your application&#8217;s embedded swank server can save the day.</p>
]]></content>
  </entry>
  
</feed>
