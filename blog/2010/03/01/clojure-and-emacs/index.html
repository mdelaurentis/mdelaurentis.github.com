
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Clojure + Emacs - Mike DeLaurentis</title>
  <meta name="author" content="Mike DeLaurentis">

  
  <meta name="description" content="Clojure + Emacs There are many different ways of providing Emacs with a Clojure REPL for a project. A few people have asked me how to do this &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://mdelaurentis.com/blog/2010/03/01/clojure-and-emacs">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Mike DeLaurentis" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Cardo:400,400italic,700' rel='stylesheet' type='text/css'>

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Mike DeLaurentis</a></h1>
  
    <h2>Software, brewing, etc...</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:mdelaurentis.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Clojure + Emacs</h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-03-01T00:00:00-05:00" pubdate data-updated="true">Mar 1<span>st</span>, 2010</time>
        
      </p>
    
  </header>


<div class="entry-content"><h1>Clojure + Emacs</h1>

<p>There are many different ways of providing Emacs with a Clojure REPL for a project.  A few people have asked me how to do this recently, so I thought I&#8217;d mention the different methods I&#8217;ve used.</p>

<h2>Shell script</h2>

<p>You can create a command-line script that runs java, executing the <code>clojure.main</code> class with an appropriate classpath set up.  Then add something like <a href="http://gist.github.com/318021">this</a> to your Emacs lisp.</p>

<script src="https://gist.github.com/319031.js"> </script>


<p>Then from within Emacs you can start up slime by doing <code>M-- M-x slime</code>, and then selecting the name for the repl to start up.  I used this method for a while, but it&#8217;s not very portable, and it requires changing your .emacs setup every time you want to add a repl.  I would not recommend this way.</p>

<h2>Build tool</h2>

<p>With the advent of <a href="http://github.com/technomancy/leiningen">Leiningen</a> and the <a href="http://github.com/talios/clojure-maven-plugin">clojure-maven-plugin</a>, it has become much easier to start up a swank server on the command line and then <code>M-x slime-connect</code> to it from within Emacs.  If your project uses Leiningen, just type <code>lein swank</code> at the command line (you&#8217;ll need a :dev-dependency on swank-clojure for this to work).  If you&#8217;re using the Maven plugin, run <code>mvn clojure:swank</code>.  Then in Emacs, run <code>M-x slime-connect</code>.  Hit enter through the host and port prompts, and it should connect you to the swank server you started up on the command line.</p>

<h2>Embedded</h2>

<p>If you&#8217;re working on a long-running application, you may want to consider embedding a swank server in your program itself.  It&#8217;s remarkably <a href="http://gist.github.com/319031">easy</a>.</p>

<script src="http://gist.github.com/319031.js"> </script>


<p>It took me a long time to realize how great this ability is, but I just had an experience that convinced me of its greatness.  I&#8217;m working on a Compojure application that I&#8217;m using to help with some performance testing of some web services.  Today I had some runtime errors in the Compojure application.  It had been running for a while and had built up some state that I didn&#8217;t want to lose by restarting it.  So I just logged into the machine, fired up Emacs and connected to the swank server, diagnosed the problem, and fixed it, all without restarting the server or losing any state.  Now, you obviously need to be careful not to expose a swank server on a port open to the world.  But assuming you take a few safety measures, your application&#8217;s embedded swank server can save the day.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Mike DeLaurentis</span></span>

      








  


<time datetime="2010-03-01T00:00:00-05:00" pubdate data-updated="true">Mar 1<span>st</span>, 2010</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://mdelaurentis.com/blog/2010/03/01/clojure-and-emacs/" data-via="mdelaurentis" data-counturl="http://mdelaurentis.com/blog/2010/03/01/clojure-and-emacs/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
      
        <a class="basic-alignment right" href="/blog/2011/01/16/mosaicing-project/" title="Next Post: Computer Vision Project - Mosaicing">Computer Vision Project - Mosaicing &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>About Me</h1>
  <p>I live in Bridgeport, Pennsylvania with my wife Kate and beagle Lucy.
I am an independant software contractor with experience in a variety
of languages and problem domains.  I'm working on a master's in
Computer Science at Drexel University.  I also play guitar, cook, and
brew beer.</p>
<a href="/mdelaurentis-resume.pdf">resume</a>.
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2011/10/28/Oatmeal-Stout/">Oatmeal Stout</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/09/12/Harvest-Amber/">Harvest Amber</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/08/20/Belgian-Strong-Ale/">Belgian Strong Ale</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/07/11/Smoked-Rye-Porter/">Smoked Rye Porter</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/07/04/ESB/">ESB</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/mdelaurentis">@mdelaurentis</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'mdelaurentis',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("mdelaurentis", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/mdelaurentis" class="twitter-follow-button" data-show-count="false">Follow @mdelaurentis</a>
  
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Mike DeLaurentis -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
